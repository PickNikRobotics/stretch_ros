<?xml version="1.0" ?>
<sdf version="1.7">
  <model name='stretch' canonical_link='base_link'>
  <pose>-0.109461304328163 -0.000741018909047708 0.0914915269429946 0 0 0</pose>

  <link name="base_link">
    <inertial>
      <mass>1.0723782659782</mass>
      <inertia>
        <ixx>0.00310580907710135</ixx>
        <ixy>1.5182848191076E-06</ixy>
        <ixz>0.00041690466732394</ixz>
        <iyy>0.00433798719991832</iyy>
        <iyz>1.3348771625844E-05</iyz>
        <izz>0.00372047274673620</izz> 
      </inertia>
    </inertial>
    <visual name="visual">
      <pose>0 0 0 0 0 0</pose>
      <geometry>
        <mesh>
          <uri>meshes/base_link.STL</uri>
        </mesh>
      </geometry>
      <material>
        <diffuse>1.0 1.0 1.0</diffuse>
        <specular>1.0 1.0 1.0</specular>
        <ambient>1.0 1.0 1.0</ambient>
      </material>
    </visual>
    <collision name="collision">
      <geometry>
        <mesh>
          <uri>meshes/base_link.STL</uri>
        </mesh>
      </geometry>
    </collision>
  </link>

  <link name='link_right_wheel'>
    <pose>-0.003 -0.15765 0.05 -1.5707963267949 0 0</pose>
    <inertial>
      <mass>0.1</mass>
      <inertia>
        <ixx>0.01</ixx>
        <ixy>0</ixy>
        <ixz>0</ixz>
        <iyy>0.01</iyy>
        <iyz>0</iyz>
        <izz>0.01</izz>
      </inertia>
    </inertial>
    <visual name="visual">
      <geometry>
        <mesh>
          <uri>meshes/link_right_wheel.STL</uri>
        </mesh>
      </geometry>
      <material>
        <diffuse>0 0 0 1</diffuse>
        <ambient>0 0 0 1</ambient>
        <specular>0 0 0 1</specular>
        <emissive>0 0 0 1</emissive>
      </material>
    </visual>
    <collision name='collision'>
      <geometry>
        <mesh>
          <uri>meshes/link_right_wheel.STL</uri>
        </mesh>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>100</mu>
            <mu2>200</mu2>
          </ode>
        </friction>
          <contact>
            <ode>
              <soft_cfm>0</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1e+13</kp>
              <kd>1</kd>
              <min_depth>0.05</min_depth>
            </ode>
          </contact>
      </surface>
    </collision>
  </link>

  <joint name='joint_right_wheel' type='revolute'>
    <parent>base_link</parent>
    <child>link_right_wheel</child>
    <axis>
      <xyz>0 0 1</xyz>
      <limit>
        <lower>-1.79769e+308</lower>
        <upper>1.79769e+308</upper>
      </limit>
    </axis>
  </joint>

  <link name='link_left_wheel'>
    <pose>-0.003 0.15765 0.05 -1.5707963267949 0 0</pose>
    <inertial>
      <mass>0.1</mass>
      <inertia>
        <ixx>0.01</ixx>
        <ixy>0</ixy>
        <ixz>0</ixz>
        <iyy>0.01</iyy>
        <iyz>0</iyz>
        <izz>0.01</izz>
      </inertia>
    </inertial>
    <visual name="visual">
      <geometry>
        <mesh>
          <uri>meshes/link_left_wheel.STL</uri>
        </mesh>
      </geometry>
      <material>
        <diffuse>0 0 0 1</diffuse>
        <ambient>0 0 0 1</ambient>
        <specular>0 0 0 1</specular>
        <emissive>0 0 0 1</emissive>
      </material>
    </visual>
    <collision name='collision'>
      <geometry>
        <mesh>
          <uri>meshes/link_left_wheel.STL</uri>
        </mesh>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>100</mu>
            <mu2>200</mu2>
          </ode>
        </friction>
          <contact>
            <ode>
              <soft_cfm>0</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1e+13</kp>
              <kd>1</kd>
              <min_depth>0.05</min_depth>
            </ode>
          </contact>
      </surface>
    </collision>
  </link>

  <joint name='joint_left_wheel' type='revolute'>
    <parent>base_link</parent>
    <child>link_left_wheel</child>
    <axis>
      <xyz>0 0 1</xyz>
      <limit>
        <lower>-1.79769e+308</lower>
        <upper>1.79769e+308</upper>
      </limit>
    </axis>
  </joint>

  <link name="caster_link">
    <pose>-0.245 0.0 0.032 1.5707963267949 1.5707963267949 0</pose>
    <collision name="collision">
      <geometry>
        <sphere>
          <radius>0.032</radius>
        </sphere>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>0</mu>
            <mu2>0</mu2>
          </ode>
        </friction>
          <contact>
            <ode>
              <soft_cfm>0</soft_cfm>
              <soft_erp>0.2</soft_erp>
              <kp>1e+13</kp>
              <kd>1</kd>
              <min_depth>0.05</min_depth>
            </ode>
          </contact>
      </surface>
    </collision>
    <visual name="visual">
      <geometry>
        <mesh>
          <uri>meshes/omni_wheel_m.STL</uri>
        </mesh>
      </geometry>
      <material>
        <diffuse>0 0 0 1</diffuse>
        <ambient>0 0 0 1</ambient>
        <specular>0 0 0 1</specular>
        <emissive>0 0 0 1</emissive>
      </material>
    </visual>
    <inertial>
      <mass>0.01</mass>
        <inertia>
          <ixx>0.001</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.001</iyy>
          <iyz>0</iyz>
          <izz>0.001</izz>
        </inertia>
    </inertial>
  </link>

  <joint name='caster_wheel' type='ball'>
      <parent>base_link</parent>
      <child>caster_link</child>
  </joint>

  <!-- <link
    name="link_mast">
    <inertial>
      <origin
        xyz="0.00755818572975822 0.773971284176834 0.00647313086620024"
        rpy="0 0 0" />
      <mass
        value="0.749143203376401" />
      <inertia
        ixx="0.0709854511954588"
        ixy="-0.00433428742758457"
        ixz="-0.000186110788697573"
        iyy="0.000437922053342648"
        iyz="-0.00288788257713431"
        izz="0.071104808501661" />
    </inertial>
    <visual name="visual">
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://stretch_description/meshes/link_mast.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision name="collision">
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://stretch_description/meshes/link_mast.STL" />
      </geometry>
    </collision>
  </link>
  
  <joint
    name="joint_mast"
    type="fixed">
    <origin
      xyz="-0.07 0.134999999999998 0.0284000000000001"
      rpy="1.5707963267949 0 0.00925318926571245" />
    <parent
      link="base_link" />
    <child
      link="link_mast" />
    <axis
      xyz="0 0 0" />
  </joint> -->

    <plugin
      filename="libignition-gazebo-diff-drive-system.so"
      name="ignition::gazebo::systems::DiffDrive">
      <left_joint>joint_left_wheel</left_joint>
      <right_joint>joint_right_wheel</right_joint>
      <wheel_separation>0.315</wheel_separation>
      <wheel_radius>0.05</wheel_radius>
      <odom_publish_frequency>10</odom_publish_frequency>
      <topic>cmd_vel</topic>
  </plugin>

  </model>
</sdf>
